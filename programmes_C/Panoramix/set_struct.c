/*
** EPITECH PROJECT, 2023
** global.c
** File description:
** declare globals
*/
#include "pano.h"

int parser(char **args, Game *game)
{
    game->num_villagers = atoi(args[1]);
    game->pot_capacity = atoi(args[2]);
    game->num_fights = atoi(args[3]);
    game->num_refills = atoi(args[4]);
    return 0;
}

void *druid_function(void *arg)
{
    Game *game = (Game*)arg;
    while (game->num_refills > 0) {
        if (game->pot_servings_remaining == 0) {
            game->pot_servings_remaining = game->pot_capacity;
            game->num_refills--;
        }
    }
    return NULL;
}

int hub(int argc, char **argv)
{
    Game game;
    int result = 0;
    if (result != 0) {
        return result;
    }
    game.pot_servings_remaining = game.pot_capacity;

    return 0;
}

void voicelines_calls(int num_villagers, int pot_capacity, int num_fights,
    int num_refills)
{
    printf("Villager %d: Going into battle!\n", num_villagers);
    while (num_fights > 0) {
        if (pot_capacity <= 0) {
            num_refills--;
            pot_capacity = num_villagers;
        } else {
            pot_capacity--;
            num_fights--;
        }
        num_villagers = (num_villagers + 1) % 3;
    }
    printf("Druid : I'm out of viscum. I'm going back to ... zZz\n");
    printf("Villager 0: I'm going to sleep now.\n");
    printf("Villager 1: I'm going to sleep now.\n");
    printf("Villager 2: I'm going to sleep now.\n");
}















// hi !







































//still here ?




























//yo need to chill out there is 100000 lines underneeth



























































//why ? Because i'm bored that's why























//cheers



















































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































int nb_villagers, pot_size, nb_fights, nb_refills;
int *villagers_fights_left;
int pot_servings_left;
sem_t pot_mutex, villagers_mutex, druid_mutex;
pthread_t *villagers_threads;
pthread_t druid_thread;